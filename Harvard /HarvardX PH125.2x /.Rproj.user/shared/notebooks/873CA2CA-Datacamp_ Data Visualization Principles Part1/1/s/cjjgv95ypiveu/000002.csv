"0","library(dplyr)"
"0","library(ggplot2)"
"0","library(RColorBrewer)"
"0","library(dslabs)"
"0","data(us_contagious_diseases)"
"0",""
"0","the_disease = ""Smallpox"""
"0","dat <- us_contagious_diseases %>% "
"0","   filter(!state%in%c(""Hawaii"",""Alaska"") & disease == the_disease & weeks_reporting>=10) %>% "
"0","   mutate(rate = count / population * 10000) %>% "
"0","   mutate(state = reorder(state, rate))"
"0",""
"0","dat %>% ggplot(aes(year, state, fill = rate)) + "
"0","  geom_tile(color = ""grey50"") + "
"0","  scale_x_continuous(expand=c(0,0)) + "
"0","  scale_fill_gradientn(colors = brewer.pal(9, ""Reds""), trans = ""sqrt"") + "
"0","  theme_minimal() + "
"0","  theme(panel.grid = element_blank()) + "
"0","  ggtitle(the_disease) + "
"0","  ylab("""") + "
"0","  xlab("""")"
